(this["webpackJsonpe-commerce-app"]=this["webpackJsonpe-commerce-app"]||[]).push([[0],{146:function(e,t,c){},218:function(e,t,c){"use strict";c.r(t);var r=c(0),n=c(25),a=c.n(n),s=c(45),i=(c(146),c(147),c(48)),o=c(23),j=c(26),u=c.n(j),d=c(42),l="https://my-json-server.typicode.com/GursimratRai/json-server",b=function(){return"".concat(l,"/products")},p=function(e){return"".concat(l,"/products/").concat(e)},h=function(){return"".concat(l,"/products")},O=function(e){return"".concat(l,"/products/").concat(e)},x=c(134);function m(e,t){"success"===e?x.a.success({message:t,style:{borderRadius:5,backgroundColor:"#9cda7e",borderColor:"#2f6316"}}):x.a.error({message:t,style:{borderRadius:5,backgroundColor:"#e89795",borderColor:"#880411"}})}var f="UPDATES_PRODUCTS",g="ADD_PRODUCT_TO_LIST",y="UPDATE_PRODUCT_IN_LIST",v="DELETE_PRODUCT_FROM_LIST",w="ADD_TO_CART",C="REMOVE_FROM_CART";function P(e){return function(){var t=Object(d.a)(u.a.mark((function t(c){var r,n,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=h(),t.next=4,fetch(r,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(e)});case 4:return n=t.sent,t.next=7,n.json();case 7:a=t.sent,c(I(a)),m("success","New Product added Successfully"),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),m("error","Something went wrong !!!");case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()}function I(e){return{type:g,product:e}}function S(e){return function(){var t=Object(d.a)(u.a.mark((function t(c){var r,n,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=O(e.id),t.next=4,fetch(r,{method:"PATCH",headers:{"content-type":"application/json"},body:JSON.stringify(e)});case 4:return n=t.sent,t.next=7,n.json();case 7:a=t.sent,c(k(a)),m("success","Product updated Successfully"),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),m("error","Something went wrong !!!");case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()}function k(e){return{type:y,product:e}}function E(e){return{type:v,product:e}}function T(e){return{type:w,product:e}}function D(e){return{type:C,product:e}}var N=c(228),R=c(227),_=c(226),A=c(6),q=function(e){var t=e.count;return Object(A.jsx)("div",{children:Object(A.jsx)("div",{children:Object(A.jsxs)(N.a,{theme:"light",mode:"horizontal",defaultSelectedKeys:["1"],children:[Object(A.jsx)(N.a.Item,{children:Object(A.jsx)(i.b,{to:"/e-commerce-app",children:"Products"})},"1"),Object(A.jsxs)(N.a.Item,{children:[Object(A.jsx)(i.b,{to:"/e-commerce-app/add-product",children:"Add A Product"})," "]},"2"),Object(A.jsx)(N.a.Item,{children:Object(A.jsx)(R.a,{size:"small",count:t,children:Object(A.jsx)(i.b,{to:"/e-commerce-app/cart",children:Object(A.jsx)(_.a,{style:{color:"blue"},size:"large",children:Object(A.jsx)("i",{className:"fas fa-shopping-cart"})})})})},"3")]})})})},z=c(43),U=c(135),F=function(e){var t=e.products,c=Object(r.useState)(!1),n=Object(z.a)(c,2),a=n[0],s=n[1],i=Object(r.useState)(t),o=Object(z.a)(i,2),j=o[0],l=o[1],b=Object(r.useState)(t),p=Object(z.a)(b,2),h=p[0],O=p[1],x=Object(r.useState)(-1),m=Object(z.a)(x,2),f=m[0],g=m[1];Object(r.useEffect)((function(){var e=[].concat(h).sort((function(e,t){return e.price>=t.price?1:-1}));l(e)}),[h]);var y=function(e){g(e)},v=function(){g(-1)},w=function(){var e=Object(d.a)(u.a.mark((function e(c){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c?(s(c),O(j)):(s(c),O(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(A.jsxs)("div",{children:[a?Object(A.jsx)(U.a,{onClick:function(){return w(!1)},children:"X"}):Object(A.jsx)(U.a,{onClick:function(){return w(!0)},children:"Sorted Preview"}),h.map((function(e){return Object(A.jsx)(V,{edit:f,handleEdit:y,handleCancel:v,product:e},e.id)}))]})},B=c(221),G=c(222),L=c(224),H=c(223),J=c(225),M=B.a.Meta;var V=Object(s.b)((function(e){return{cart:e.products.cart}}))((function(e){var t=e.product,c=e.cart,n=e.edit,a=e.handleEdit,s=e.handleCancel,o=Object(r.useState)(!1),j=Object(z.a)(o,2),l=j[0],b=j[1],h=function(t){b(!0),e.dispatch(function(e){return function(){var t=Object(d.a)(u.a.mark((function t(c){var r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=p(e.id),t.next=4,fetch(r,{method:"DELETE"});case 4:c(E(e)),m("success","Product Delete Successfully"),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),m("error","Something went wrong !!!");case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}(t)),b(!1)},O=function(){var t=Object(d.a)(u.a.mark((function t(c){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return b(!0),t.next=3,e.dispatch(S(c));case 3:b(!1);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),x=function(){return-1!==c.findIndex((function(e){return e.title===t.title}))};return Object(A.jsx)("div",{children:Object(A.jsx)(B.a,{hoverable:!0,style:{width:"80vw",marginTop:10},actions:n===t.id?[Object(A.jsx)(U.a,{onClick:s,type:"secondary",children:"Cancel"}),Object(A.jsx)(U.a,{loading:l,type:"primary",form:"update-form".concat(t.id),htmlType:"submit",children:"Save"})]:[Object(A.jsx)("i",{onClick:function(){return a(t.id)},className:"fas fa-pencil-alt"}),Object(A.jsx)("i",{onClick:function(){return h(t)},className:"fas fa-trash"}),Object(A.jsx)(U.a,{onClick:x()?function(){return function(t){e.dispatch(D(t))}(t)}:function(){return function(t){e.dispatch(T(t))}(t)},type:x()?"danger":"primary",children:x()?"Remove From Cart":"Add To Cart"})],children:Object(A.jsxs)(G.a,{initialValues:t,onFinish:O,id:"update-form".concat(t.id),children:[Object(A.jsx)(G.a.Item,{hidden:!0,name:"id"}),Object(A.jsx)(M,{avatar:Object(A.jsx)(_.a,{src:t.image,style:{width:100,height:100}}),title:n===t.id?Object(A.jsx)(G.a.Item,{name:"title",style:{margin:0},rules:[{required:!0,message:"Please input Product Name"}],children:Object(A.jsx)(L.a,{placeholder:"Enter Product Name"})}):Object(A.jsx)(i.b,{to:"e-commerce-app/product/".concat(t.id),children:t.title}),description:n===t.id?Object(A.jsx)(G.a.Item,{name:"price",rules:[{required:!0,message:"Please input Price"}],children:Object(A.jsx)(H.a,{min:0,style:{width:200}})}):Object(A.jsxs)("span",{children:["Rs ",t.price]})}),n===t.id?Object(A.jsx)(G.a.Item,{style:{margin:0},name:"rating",children:Object(A.jsx)(J.a,{style:{backgroundColor:"white"}})}):Object(A.jsx)(J.a,{disabled:!0,defaultValue:t.rating})]})})})})),K=c(74),X=c(44),Q=Object(s.b)()((function(e){var t=Object(r.useState)(!1),c=Object(z.a)(t,2),n=c[0],a=c[1],s=function(){var t=Object(d.a)(u.a.mark((function t(c){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(!0),t.next=3,e.dispatch(P(c));case 3:a(!1);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(A.jsx)("div",{style:{backgroundColor:"white",padding:20},children:Object(A.jsxs)(G.a,{name:"basic",initialValues:{},onFinish:s,children:[Object(A.jsx)(K.a,{children:Object(A.jsx)(X.a,{span:24,children:Object(A.jsx)(G.a.Item,{label:"Product Name",name:"title",rules:[{required:!0,message:"Please input Product Name"}],children:Object(A.jsx)(L.a,{placeholder:"Enter Product Name"})})})}),Object(A.jsxs)(K.a,{gutter:48,children:[Object(A.jsx)(X.a,{span:12,children:Object(A.jsx)(G.a.Item,{label:"Brand",name:"brand",rules:[{required:!0,message:"Please input Brand Name"}],children:Object(A.jsx)(L.a,{placeholder:"Enter Brand Name"})})}),Object(A.jsx)(X.a,{span:12,children:Object(A.jsx)(G.a.Item,{label:"Generation",name:"generation",rules:[{required:!0,message:"Please input Generation"}],children:Object(A.jsx)(L.a,{placeholder:"Enter Generation"})})})]}),Object(A.jsxs)(K.a,{gutter:48,children:[Object(A.jsx)(X.a,{span:12,children:Object(A.jsx)(G.a.Item,{label:"Display Size",name:"display-size",rules:[{required:!0,message:"Please input Size of the display"}],children:Object(A.jsx)(L.a,{placeholder:"Enter Display Dimensions"})})}),Object(A.jsx)(X.a,{span:12,children:Object(A.jsx)(G.a.Item,{label:"Operating System",name:"operating-system",rules:[{required:!0,message:"Please input Operating System Name"}],children:Object(A.jsx)(L.a,{placeholder:"Enter Operating System Name"})})})]}),Object(A.jsxs)(K.a,{gutter:48,children:[Object(A.jsx)(X.a,{span:8,children:Object(A.jsx)(G.a.Item,{label:"Price",children:Object(A.jsx)(G.a.Item,{name:"price",rules:[{required:!0,message:"Please input Price"}],children:Object(A.jsx)(H.a,{min:0,style:{width:200}})})})}),Object(A.jsx)(X.a,{span:8,children:Object(A.jsx)(G.a.Item,{label:"Category",name:"category",rules:[{required:!0,message:"Please input Category"}],children:Object(A.jsx)(L.a,{placeholder:"Enter Category"})})}),Object(A.jsx)(X.a,{span:8,children:Object(A.jsx)(G.a.Item,{name:"rating",label:"Rate",children:Object(A.jsx)(J.a,{style:{backgroundColor:"white"}})})})]}),Object(A.jsx)(K.a,{children:Object(A.jsx)(X.a,{span:24,children:Object(A.jsx)(G.a.Item,{label:"Image",name:"image",rules:[{required:!0,message:"Please enter Image Url"}],children:Object(A.jsx)(L.a,{placeholder:"Enter Image Url"})})})}),Object(A.jsx)(K.a,{children:Object(A.jsx)(X.a,{span:24,children:Object(A.jsx)(G.a.Item,{label:"Description",name:"description",rules:[{required:!0,message:"Please enter Description"}],children:Object(A.jsx)(L.a,{placeholder:"Enter Description"})})})}),Object(A.jsx)(G.a.Item,{wrapperCol:{offset:22,span:16},children:Object(A.jsx)(U.a,{type:"primary",htmlType:"submit",loading:n,children:"Add"})})]})})})),W=Object(s.b)()((function(e){var t=e.products,c=e.cart,n=Object(o.f)().id,a=Object(r.useState)({}),s=Object(z.a)(a,2),i=s[0],j=s[1],u=function(){return-1!==c.findIndex((function(e){return e.title===i.title}))};return Object(r.useEffect)((function(){var e=t.findIndex((function(e){return parseInt(e.id)===parseInt(n)}));-1!==e&&j(t[e])}),[n,t]),Object(A.jsx)("div",{children:Object(A.jsxs)(K.a,{children:[Object(A.jsxs)(X.a,{span:12,children:[Object(A.jsxs)(K.a,{children:[Object(A.jsx)("b",{children:"Title :"}),Object(A.jsx)("span",{children:i.title})]}),Object(A.jsx)(K.a,{children:Object(A.jsx)(J.a,{disabled:!0,value:i.rating})}),Object(A.jsxs)(K.a,{children:[Object(A.jsx)("b",{children:"Price : "}),Object(A.jsxs)("span",{children:["Rs ",i.price]})]}),Object(A.jsx)(K.a,{children:Object(A.jsx)(U.a,{onClick:u()?function(){return function(t){e.dispatch(D(t))}(i)}:function(){return function(t){e.dispatch(T(t))}(i)},type:u()?"danger":"primary",children:u()?"Remove From Cart":"Add To Cart"})}),Object(A.jsxs)(K.a,{children:[Object(A.jsx)("b",{children:"Brand :"}),Object(A.jsx)("span",{children:i.brand})]}),Object(A.jsxs)(K.a,{children:[Object(A.jsx)("b",{children:"Generation :"}),Object(A.jsx)("span",{children:i.generation})]}),Object(A.jsxs)(K.a,{children:[Object(A.jsx)("b",{children:"Display Size :"}),Object(A.jsx)("span",{children:i["display-size"]})]}),Object(A.jsxs)(K.a,{children:[Object(A.jsx)("b",{children:"Operation System :"}),Object(A.jsx)("span",{children:i["operating-system"]})]}),Object(A.jsxs)(K.a,{children:[Object(A.jsx)("b",{children:"Category :"}),Object(A.jsx)("span",{children:i.category})]}),Object(A.jsxs)(K.a,{children:[Object(A.jsx)("b",{children:"Description :"}),Object(A.jsx)("span",{children:i.description})]})]}),Object(A.jsx)(X.a,{span:12,children:Object(A.jsx)("img",{src:i.image,alt:"Product",style:{width:"100%",height:"100%"}})})]})})})),Y=c(220),Z=Y.a.Header,$=Y.a.Content;var ee=Object(s.b)((function(e){return{list:e.products.list,cart:e.products.cart}}))((function(e){var t=e.dispatch;Object(r.useEffect)((function(){t(function(){var e=Object(d.a)(u.a.mark((function e(t){var c,r,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b();case 3:return c=e.sent,e.next=6,fetch(c);case 6:return r=e.sent,e.next=9,r.json();case 9:n=e.sent,t({type:f,products:n}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),m("error","Something went wrong !!!");case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}())}),[t]);var c=e.list,n=e.cart;return Object(A.jsx)("div",{children:Object(A.jsx)(Y.a,{children:Object(A.jsxs)(i.a,{children:[Object(A.jsx)(Z,{style:{backgroundColor:"white",position:"fixed",zIndex:1,width:"100%"},children:Object(A.jsx)(q,{count:n.length})}),Object(A.jsx)($,{className:"site-layout",style:{padding:"0 50px",height:"100%",minHeight:"100vh",marginTop:64},children:Object(A.jsx)("div",{className:"site-layout-background",style:{padding:24,minHeight:380,height:"100%"},children:Object(A.jsxs)(o.c,{children:[Object(A.jsx)(o.a,{exact:!0,path:"/e-commerce-app",component:function(){return Object(A.jsx)(F,{products:c})}}),Object(A.jsx)(o.a,{path:"/e-commerce-app/add-product",component:function(){return Object(A.jsx)(Q,{})}}),Object(A.jsx)(o.a,{path:"/e-commerce-app/cart",component:function(){return Object(A.jsx)(F,{products:n})}}),Object(A.jsx)(o.a,{path:"/e-commerce-app/product/:id",component:function(){return Object(A.jsx)(W,{products:c,cart:n})}})]})})})]})})})})),te=c(80),ce=c(133),re=c(115),ne=c(37),ae={list:[],cart:[],showCart:!1};var se=Object(te.b)({products:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return Object(ne.a)(Object(ne.a)({},e),{},{list:t.products});case g:return Object(ne.a)(Object(ne.a)({},e),{},{list:[t.product].concat(Object(re.a)(e.list))});case y:var c=e.list.findIndex((function(e){return e.id===t.product.id}));return-1!==c&&(e.list[c]=t.product),Object(ne.a)(Object(ne.a)({},e),{},{list:e.list});case v:var r=e.list.filter((function(e){return e.title!==t.product.title})),n=e.cart.filter((function(e){return e.title!==t.product.title}));return Object(ne.a)(Object(ne.a)({},e),{},{list:r,cart:n});case w:return Object(ne.a)(Object(ne.a)({},e),{},{cart:[t.product].concat(Object(re.a)(e.cart))});case C:var a=e.cart.filter((function(e){return e.title!==t.product.title}));return Object(ne.a)(Object(ne.a)({},e),{},{cart:a});default:return e}}});var ie=Object(te.c)(se,Object(te.a)(ce.a));a.a.render(Object(A.jsx)(s.a,{store:ie,children:Object(A.jsx)(ee,{})}),document.getElementById("root"))}},[[218,1,2]]]);
//# sourceMappingURL=main.2deb1196.chunk.js.map